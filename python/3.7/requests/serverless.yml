service: requests-lambda-layer
frameworkVersion: ">=1.34.0 <2.0.0"

provider:
  name: aws
  runtime: python3.7

# you can overwrite defaults here
  stage: dev
  region: ap-southeast-1
  description: requests dependency http://docs.python-requests.org/en/master/
  deploymentBucket:
    name: wp-lambda-bucket # Deployment bucket name. Default is generated by the framework
    serverSideEncryption: AES256 # when using server-side encryption

  iamRoleStatements:  
    - Effect: "Allow"
      Action:
         - "s3:PutBucketNotification"
      Resource:
        Fn::Join:
          - ""
          - - "arn:aws:s3:::your-lambda-bucket"
          
layers:
  requests:
    buildScript: ./build.sh
    path: layer
    compatibleRuntimes:
      - python3.7
    allowedAccounts:
      - '*'
